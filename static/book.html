<!DOCTYPE html>
<html style="background-color: rgb(54, 54, 54); color:white;">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script>
  $.ajax({
    type: "GET",
    url: "/book/book/",
    dataType: "json",
    success: function (res) {
      console.log("sss");
      const books = [];
      books.push(...res);
      books.sort(function (a, b) { return a.id - b.id });
      const domm = books
        .map((b) => {
          return `<li>ID:${b.id},Name:${b.name},Author:${b.author} </li>`;
        })
        .join("");

      const htmllist = document.getElementById("alldata");
      htmllist.innerHTML = domm;
    },
  });
  function select(id) {
    $.ajax({
      type: "GET",
      url: "/book/book/" + id,
      dataType: "json",
      success: function (res) {
        console.log("sss");
        const books = [];
        books.push(...res);
        books.sort(function (a, b) { return a.id - b.id });
        const domm = books
          .map((b) => {
            return `<li>ID:"${b.id}",Name:"${b.name}",Author:"${b.author}"</li>`;
          })
          .join("");

        const htmllist = document.getElementById("onedata");
        htmllist.innerHTML = domm;
      },
    });
  }
</script>

<body style="font-family: monospace;">
  <h2>Create</h2>
  <form method="post" action="/book/book">
    <input name="name" id="name" placeholder="Name" required />
    <input name="author" id="author" placeholder="Author" required />
    <input name="isbn" id="isbn" placeholder="ISBN" required />
    <button type="submit">Create</button>
  </form>
  <hr />

  <h2>Delete</h2>
  <form method="post" action="/book/book/delete">
    <input name="id" placeholder="Book ID" required />
    <button type="submit" name="submit">Delete</button>
  </form>
  <hr />

  <h2>Update</h2>
  <form method="post" action="/book/book/update">
    <input name="id" placeholder="Book ID" required />
    <input name="name" placeholder="New Name" required />
    <input name="author" placeholder="New Author" required />
    <input name="isbn" placeholder="New ISBN" required />
    <button type="submit" name="submit">Update</button>
  </form>
  <hr />

  <h2>Select</h2>
  <input name="id" id="SelectID" placeholder="Book ID" />
  <button onclick="select(SelectID.value)">Select Data </button>
  <div id="onedata" style="font-size: 18px;"></div>

  <hr />
  <h2>All Books Data</h2>
  <div id="alldata" style="font-size: 18px;"></div>
</body>

</html>