<!DOCTYPE html>
<html style="background-color: rgb(54, 54, 54); color:white;">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script>
  $.ajax({
    type: "GET",
    url: "/book",
    dataType: "json",
    success: function (res) {
      console.log("sss");
      const books = [];
      books.push(...res);
      const domm = books
        .map((b) => {
          return `<li>ID:${b.id},Name:${b.name},Author:${b.author} </li>`;
        })
        .join("");

      const htmllist = document.getElementById("alldata");
      htmllist.innerHTML = domm;
    },
  });
  function select(id) {
    $.ajax({
      type: "GET",
      url: "/book/" + id,
      dataType: "json",
      success: function (res) {
        console.log("sss");
        const books = [];
        books.push(...res);
        const domm = books
          .map((b) => {
            return `<li>ID:"${b.id}",Name:"${b.name}",Author:"${b.author}"</li>`;
          })
          .join("");

        const htmllist = document.getElementById("onedata");
        htmllist.innerHTML = domm;
      },
    });
  }
</script>

<body style="font-family: monospace;">
  <h2>Create</h2>
  <form method="post" action="/book">
    <input name="name" id="name" placeholder="name" />
    <input name="author" id="author" placeholder="author" />
    <input name="isbn" id="isbn" placeholder="isbn" />
    <button type="submit">Create</button>
  </form>
  <hr />

  <h2>Delete</h2>
  <form method="post" action="/book/delete">
    <input name="id" placeholder="book id" />
    <button type="submit" name="submit">Delete</button>
  </form>
  <hr />

  <h2>Update</h2>
  <form method="post" action="/book/update">
    <input name="id" value="1" />
    <input name="name" placeholder="newname" />
    <input name="author" placeholder="newauthor" />
    <input name="isbn" placeholder="newisbn" />
    <button type="submit" name="submit">Update</button>
  </form>
  <hr />

  <h2>Select</h2>
  <button onclick="select(1)">select data 1 </button>
  <div id="onedata"></div>

  <hr />
  <h2>All Books Data</h2>
  <div id="alldata"></div>
</body>

</html>